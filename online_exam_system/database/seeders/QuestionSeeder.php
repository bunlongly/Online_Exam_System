<?php

namespace Database\Seeders;

use App\Models\Question; 
use App\Models\User;
use Illuminate\Database\Seeder;

class QuestionSeeder extends Seeder
{
    public function run()
    {
        $users = User::all(); // Retrieve all users

        if ($users->isEmpty()) {
            // Handle case where no users exist
            // You may want to create a user here or throw an error
        }

        for ($i = 0; $i < 50; $i++) {
            $user = $users->random(); // Get a random user

            Question::create([
                'user_id'      => $user->id, // Associate the question with this user
                'course'       => 'Sample Course with Faker ' . $i,
                'question'     => 'This is a sample question ' . $i . ' generated by Faker.',
                'type'         => ['Multiple Choice', 'True / False', 'Answer the Question'][rand(0, 2)],
                'difficulty'   => ['Easy', 'Intermediate', 'Advanced', 'Medium'][rand(0, 3)],
                'score'        => rand(30, 100),
                'correct_answer' => ['True', 'False', 'A', 'B', 'C', 'D', 'Python', 'Functional-requirement'][rand(0,7)],
                // 'options' field can also be added here if applicable
            ]);
        }
    }
}
